query StandupActiveCycle($teamId: String!) {
    # Get the team's current active cycle
    team(id: $teamId) {
        id
        activeCycle {
            id
            number
            name
            startsAt
            endsAt
            progress
            completedIssueCountHistory
            scopeHistory
            completedScopeHistory

            # All issues in the current cycle (not filtered by assignee)
            issues(first: 15) {
                nodes {
                    ...IssueDetails
                }
            }
        }
    }
}

# Fragment for complete issue details
fragment IssueDetails on Issue {
    id
    identifier
    title
    description
    url
    branchName

    # Status information
    state {
        id
        name
        type
        color
        position
    }

    # Priority
    priority
    priorityLabel

    # Timestamps
    createdAt
    updatedAt
    startedAt
    completedAt
    canceledAt
    dueDate

    # Estimate
    estimate

    # Team
    team {
        id
        key
        name
    }

    # Assignee
    assignee {
        id
        name
        displayName
        email
        avatarUrl
    }

    # Creator
    creator {
        id
        name
        displayName
    }

    # Project information
    project {
        id
        name
        state
        startDate
        targetDate

        # Current milestone
        projectMilestones(first: 1) {
            nodes {
                id
                name
                targetDate
            }
        }
    }

    # Labels
    labels {
        nodes {
            id
            name
            color
        }
    }

    # Recent comments (last 24 hours for context)
    comments(
        first: 10
        filter: { createdAt: { gte: "-P1D" } }
        orderBy: createdAt
    ) {
        nodes {
            id
            body
            createdAt
            user {
                id
                name
                displayName
            }
        }
    }

    # Attachments (PRs, docs, etc)
    attachments {
        nodes {
            id
            title
            subtitle
            url
            sourceType
            createdAt
            creator {
                id
                name
            }
        }
    }

    # Sub-issues
    children {
        nodes {
            id
            identifier
            title
            state {
                name
                type
            }
            assignee {
                id
                name
                displayName
            }
        }
    }

    # Parent issue
    parent {
        id
        identifier
        title
        state {
            name
            type
        }
    }

    # Relations - issues that this issue blocks or is related to
    relations {
        nodes {
            id
            type
            relatedIssue {
                id
                identifier
                title
                state {
                    name
                    type
                }
                assignee {
                    id
                    name
                    displayName
                }
            }
        }
    }

    # Inverse relations - issues that block this issue
    inverseRelations {
        nodes {
            id
            type
            issue {
                id
                identifier
                title
                state {
                    name
                    type
                }
                assignee {
                    id
                    name
                    displayName
                }
            }
        }
    }

    # SLA timestamps if configured
    slaBreachesAt
    slaStartedAt
    slaType

    # Cycle information
    cycle {
        id
        number
        name
        startsAt
        endsAt
    }
}
